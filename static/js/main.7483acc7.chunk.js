(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(n,e,t){n.exports=t.p+"static/media/bg-start.410390fd.svg"},14:function(n,e,t){n.exports=t.p+"static/media/ic-point.24791f9a.svg"},16:function(n,e,t){n.exports=t(27)},22:function(n,e,t){},27:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(4),o=t.n(i),c=(t(22),t(3)),u=t(1),l=t(2);function s(){var n=Object(u.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: 50%;\n  left: 50%;\n  transform-origin: center center;\n  transform: translate(-50%, -50%) scale(",");\n  background: gray;\n"]);return s=function(){return n},n}var f=l.b.div(s(),1280,800,function(n,e){var t=document.body,r=t.clientHeight,a=t.clientWidth;return r>=e&&a>=n?1:e*a/n>r?r/e:a/n}(1280,800));function d(){var n=Object(u.a)(["\n  text-align: center;\n  font-size: 36px;\n  /* margin-top: 360px; */\n  color: white;\n\n  &::before,\n  &::after {\n    content: '';\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    background: white;\n  }\n\n  &::before {\n    margin-right: 20px;\n  }\n\n  &::after {\n    margin-left: 20px;\n  }\n"]);return d=function(){return n},n}var p=l.b.h1(d()),b=t(12),x=t.n(b);function g(){var n=Object(u.a)(["\n  font-size: 24px;\n  text-align: center;\n  color: #00ffe2;\n  margin-top: 40px;\n"]);return g=function(){return n},n}var m=l.b.p(g()),v=function(n){var e=n.toNextPage,t={background:"url(".concat(x.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"cover"};return Object(r.useEffect)(function(){function n(n){32===n.keyCode&&e()}return window.addEventListener("keypress",n),function(){window.removeEventListener("keypress",n)}},[]),a.a.createElement(f,{style:t},a.a.createElement(p,{style:{marginTop:360}},"SNAAAAAAKE"),a.a.createElement(m,null,"PRESS [SPACE] TO START"))},E=t(13),h=t(14),O=t.n(h);function y(){var n=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: ",";\n  z-index: 30;\n"]);return y=function(){return n},n}function k(){var n=Object(u.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 100%;\n  top: 0;\n  left: 0;\n  z-index: 24;\n  box-shadow: 0px 9px 13px 9px rgba(255, 255, 255, 0.16),\n    0px -9px 13px 9px rgba(255, 255, 255, 0.16),\n    9px 0px 13px 9px rgba(255, 255, 255, 0.16),\n    -9px 0px 13px 9px rgba(255, 255, 255, 0.16);\n  background: #00035a;\n"]);return k=function(){return n},n}function j(){var n=Object(u.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  border: none;\n  z-index: 25;\n  background: #00035a;\n"]);return j=function(){return n},n}function w(){var n=Object(u.a)(["\n  position: relative;\n  max-width: 100%;\n  max-height: 100%;\n  transform-origin: center center;\n  transform: scale(2);\n  z-index: 20;\n"]);return w=function(){return n},n}function T(){var n=Object(u.a)(["\n  position: absolute;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgb(255, 255, 255);\n  opacity: ",";\n  z-index: 10;\n"]);return T=function(){return n},n}function A(){var n=Object(u.a)(["\n  position: relative;\n  border: solid 1px #002a9d;\n  ","\n  margin: 0px;\n  text-align: center;\n"]);return A=function(){return n},n}function P(){var n=Object(u.a)(["\n  width: calc(1120px / ",");\n  height: calc(100% / ",");\n"]);return P=function(){return n},n}function N(){var n=Object(u.a)(["\n  width: 1120px;\n  height: 640px;\n  position: relative;\n  border: solid 1px #002a9d;\n  box-sizing: content-box;\n  background: #00035a;\n\n  display: flex;\n  flex-wrap: wrap;\n"]);return N=function(){return n},n}var M=l.b.div(N()),S=l.b.div(A(),function(n){return Object(l.a)(P(),n.colNum,n.rowNum)}),z=l.b.div(T(),function(n){return n.opacity||1}),G=l.b.img(w()),R=l.b.div(j()),_=l.b.div(k()),L=l.b.div(y(),function(n){return n.background||"black"});function I(n){var e=n.d,t=n.dMin,r=void 0===t?0:t,a=n.dMax,i=void 0===a?1:a,o=n.oMin,c=void 0===o?0:o,u=n.oMax;return(e-r)*((void 0===u?1:u)-c)/(i-r)+c}var C=16,F=28,B={TOP:"d-t",LEFT:"d-l",RIGHT:"d-r",BOTTOM:"d-b",NONE:"d-n"};function H(n,e){return Math.floor(Math.random()*(e-n))+n}function Y(n){var e=n[0],t={x:0,y:0},r=0;function a(e){return n.find(function(n){return n.x===e.x&&n.y===e.y})}for(;e&&(e=a(t={x:H(0,F),y:H(0,C)}),!(++r>=999)););return t}var D=function(n,e){return Object(E.a)(n,function(n){switch(e.type){case"snake-move":if(n.direction===B.NONE)return;var t,r,a=n.snake[0];n.direction===B.RIGHT?(t=a.x+1,r=a.y):n.direction===B.LEFT?(t=a.x-1,r=a.y):n.direction===B.TOP?(t=a.x,r=a.y-1):n.direction===B.BOTTOM&&(t=a.x,r=a.y+1),t>=F?t=0:t<0&&(t=F-1),r>=C?r=0:r<0&&(r=C-1),n.snake.splice(0,0,{x:t,y:r}),t===n.bait.x&&r===n.bait.y?n.bait=Y(n.snake):n.snake.pop();break;case"change-direction":if(n.snake.length>1){if(n.direction===B.TOP&&e.direction===B.BOTTOM)return;if(n.direction===B.BOTTOM&&e.direction===B.TOP)return;if(n.direction===B.LEFT&&e.direction===B.RIGHT)return;if(n.direction===B.RIGHT&&e.direction===B.LEFT)return}n.direction=e.direction}})},K=[{x:3,y:7}],J=Y(K),X=function(n){var e=n.toNextPage,t=n.setScore,i=Object(r.useState)(!0),o=Object(c.a)(i,2),u=o[0],l=o[1],s=a.a.useMemo(function(){return function(n,e){for(var t=[],r=0;r<n;r++)for(var a=0;a<e;a++)t.push({x:a,y:r});return t}(C,F)},[C,F]),f=Object(r.useReducer)(D,{bait:J,snake:K,direction:B.NONE}),d=Object(c.a)(f,2),p=d[0],b=d[1],x=p.bait,g=p.snake,m=p.direction;return Object(r.useEffect)(function(){var n=null;return u&&(b({type:"snake-move"}),n=setInterval(function(){b({type:"snake-move"})},200)),function(){clearInterval(n)}},[m,u]),Object(r.useEffect)(function(){t(g.length-1)},[g.length]),Object(r.useEffect)(function(){var n=g[0];g.find(function(e,t){return t>0&&e.x===n.x&&e.y===n.y})&&(l(!1),setTimeout(e,1e3))},[g]),Object(r.useEffect)(function(){function n(n){switch(n.keyCode){case 38:case 104:b({type:"change-direction",direction:B.TOP});break;case 37:case 100:b({type:"change-direction",direction:B.LEFT});break;case 40:case 98:b({type:"change-direction",direction:B.BOTTOM});break;case 39:case 102:b({type:"change-direction",direction:B.RIGHT})}}return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}},[]),a.a.createElement(M,null,s.map(function(n){var e=n.x,t=n.y;return a.a.createElement(S,{key:"".concat(e,"-").concat(t),rowNum:C,colNum:F},function(n,e){var t=Math.abs(x.x-n),r=Math.abs(x.y-e),i=n===x.x,o=e===x.y;if((i||o)&&t<=14&&r<=6){var c=.3;return i&&o||(c=I({oMax:.05,oMin:.15,dMax:i?6:14,dMin:0,d:i?r:t})),a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{opacity:c}),n===x.x&&e===x.y&&a.a.createElement(G,{src:O.a}))}return null}(e,t),function(n,e){var t=0;if(g.find(function(r,a){return t=a,r.x===n&&r.y===e})){var r=0===t,i=u?"rgb(0,255,226)":"rgb(255,0,0)";if(!r){var o=g.length;i="rgba(255,255,255,".concat(I({d:t,dMax:o,dMin:1,oMax:.3,oMin:1}),")")}return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,null),r&&a.a.createElement(_,null),a.a.createElement(L,{background:i}))}return null}(e,t))}))};function V(){var n=Object(u.a)(["\n  ",";\n  left: 80px;\n  bottom: 27px;\n"]);return V=function(){return n},n}function W(){var n=Object(u.a)(["\n  ",";\n  right: 80px;\n  top: 27px;\n"]);return W=function(){return n},n}function q(){var n=Object(u.a)(["\n  position: absolute;\n  color: white;\n  > *:nth-child(1) {\n    font-size: 16px;\n    vertical-align: middle;\n  }\n  > *:nth-child(2) {\n    font-size: 36px;\n    margin-left: 8px;\n    vertical-align: middle;\n  }\n"]);return q=function(){return n},n}function Q(){var n=Object(u.a)(["\n  ","\n  bottom: 27px;\n  right: 64px;\n  transform-origin: left bottom;\n  transform: translate(100%, -100%) rotate(180deg);\n"]);return Q=function(){return n},n}function U(){var n=Object(u.a)(["\n  ","\n  bottom: 27px;\n  right: 27px;\n  transform-origin: right bottom;\n  transform: translateX(-37px) rotate(90deg);\n"]);return U=function(){return n},n}function Z(){var n=Object(u.a)(["\n  ","\n  top: 27px;\n  left: 64px;\n"]);return Z=function(){return n},n}function $(){var n=Object(u.a)(["\n  ","\n  top: 27px;\n  left: 27px;\n  transform-origin: right top;\n  transform: translateX(-100%) rotate(-90deg);\n"]);return $=function(){return n},n}function nn(){var n=Object(u.a)(["\n  font-size: 36px;\n  color: white;\n  position: absolute;\n"]);return nn=function(){return n},n}var en=Object(l.a)(nn()),tn=l.b.div($(),en),rn=l.b.div(Z(),en),an=l.b.div(U(),en),on=l.b.div(Q(),en),cn=Object(l.a)(q()),un=l.b.div(W(),cn),ln=l.b.div(V(),cn),sn=function(n){var e=n.toNextPage,t=n.score,r=n.setScore,i=n.best;return a.a.createElement(f,{style:{background:"black",padding:80}},a.a.createElement(tn,null,"SNAA"),a.a.createElement(rn,null,"AAAAKE"),a.a.createElement(an,null,"SNAA"),a.a.createElement(on,null,"AAAAKE"),a.a.createElement(un,null,a.a.createElement("span",null,"score"),a.a.createElement("span",null,t)),a.a.createElement(ln,null,a.a.createElement("span",null,"best"),a.a.createElement("span",null,i)),a.a.createElement(X,{toNextPage:e,setScore:r}))};function fn(){var n=Object(u.a)(["\n  color: #00ffe2;\n  font-size: 24px;\n  margin-top: 40px;\n\n  &:last-child {\n    margin-left: 86px;\n  }\n"]);return fn=function(){return n},n}function dn(){var n=Object(u.a)(["\n  font-size: 24px;\n  color: black;\n  background: white;\n  padding: 8px;\n  margin-top: 64px;\n"]);return dn=function(){return n},n}function pn(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 160px;\n\n  & > *:nth-child(1) {\n    font-size: 16px;\n    line-height: 17px;\n  }\n\n  & > *:nth-child(2) {\n    font-size: 36px;\n    line-height: 37px;\n    margin-top: 18px;\n  }\n"]);return pn=function(){return n},n}function bn(){var n=Object(u.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return bn=function(){return n},n}var xn=l.b.div(bn()),gn=l.b.div(pn()),mn=l.b.div(dn()),vn=l.b.span(fn()),En=function(n){var e=n.toNextPage,t=n.toPrevPage,i=n.best,o=n.score;return Object(r.useEffect)(function(){function n(n){121===n.keyCode||89===n.keyCode?t():110!==n.keyCode&&78!==n.keyCode||e()}return window.addEventListener("keypress",n),function(){window.removeEventListener("keypress",n)}},[]),a.a.createElement(f,{style:{background:"black",color:"white"}},a.a.createElement(p,{style:{marginTop:253}},"GAME OVER"),a.a.createElement(xn,{style:{marginTop:40}},a.a.createElement(gn,null,a.a.createElement("span",null,"score"),a.a.createElement("span",null,o)),a.a.createElement("span",{style:{fontSize:36,margin:"0 38px"}},"/"),a.a.createElement(gn,null,a.a.createElement("span",null,"best"),a.a.createElement("span",null,i))),a.a.createElement(xn,null,a.a.createElement(mn,null,"RESTART?")),a.a.createElement(xn,null,a.a.createElement(vn,null,"YES[Y]"),a.a.createElement(vn,null,"NO[N]")))},hn={START_PAGE:"start-page",PLAY_PAGE:"play-page",END_PAGE:"end--page"},On=function(){var n=Object(r.useState)(hn.START_PAGE),e=Object(c.a)(n,2),t=e[0],i=e[1],o=Object(r.useState)(0),u=Object(c.a)(o,2),l=u[0],s=u[1],f=Object(r.useState)(parseInt(localStorage.getItem("best_snake_game_score")||0)),d=Object(c.a)(f,2),p=d[0],b=d[1];function x(){s(0),i(hn.PLAY_PAGE)}switch(Object(r.useEffect)(function(){localStorage.setItem("best_snake_game_score",p)},[p]),t){case hn.START_PAGE:return a.a.createElement(v,{toNextPage:x});case hn.PLAY_PAGE:return a.a.createElement(sn,{toNextPage:function(){b(Math.max(p,l)),i(hn.END_PAGE)},best:p,score:l,setScore:s});case hn.END_PAGE:return a.a.createElement(En,{toNextPage:function(){i(hn.START_PAGE)},toPrevPage:x,best:p,score:l});default:return null}};o.a.render(a.a.createElement(On,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.7483acc7.chunk.js.map